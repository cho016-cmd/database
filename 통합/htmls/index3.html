<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python 코드 실행 시뮬레이터</title>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js" defer></script>

    <style>
        /* === CSS (디자인 & 애니메이션) === */
        @import url('https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600&family=Noto+Sans+KR:wght@400;700&display=swap');

        :root {
            --bg-color: #f4f7f9;
            --panel-bg: #ffffff;
            --terminal-bg: #282c34;
            --terminal-text: #abb2bf;
            --primary-color: #4CAF50;
            --primary-hover: #45a049;
            --shadow-color: rgba(0, 0, 0, 0.08);
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
        }
        
        h1 {
            text-align: center;
            color: #333;
        }

        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            max-width: 1200px;
            margin: 20px auto;
        }

        .panel {
            background-color: var(--panel-bg);
            border-radius: 12px;
            box-shadow: 0 4px 20px var(--shadow-color);
            flex: 1;
            min-width: 300px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            border-bottom: 1px solid #eee;
        }
        
        .panel-header h2 {
            margin: 0;
            font-size: 1.2rem;
            color: #333;
        }
        
        #run-btn {
            padding: 8px 16px;
            font-size: 1rem;
            font-weight: bold;
            color: white;
            background-color: var(--primary-color);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        #run-btn:hover {
            background-color: var(--primary-hover);
        }
        
        .code-container {
             background-color: #2d2d2d; /* Prism Tomorrow Night 배경과 유사하게 */
             flex-grow: 1;
        }
        
        /* Prism.js 코드 블록 스타일 조정 */
        pre[class*="language-"] {
            margin: 0;
            border-radius: 0 0 12px 12px;
            font-family: 'Source Code Pro', monospace;
            height: 100%;
        }

        .terminal {
            background-color: var(--terminal-bg);
            color: var(--terminal-text);
            font-family: 'Source Code Pro', monospace;
            padding: 20px;
            flex-grow: 1;
            overflow-y: auto;
            border-radius: 0 0 12px 12px;
        }
        
        #output p { margin: 5px 0; }
        .command-line::before { content: '>$ '; color: var(--primary-color); }
        .cursor { display: inline-block; background-color: white; width: 10px; animation: blink 1s step-end infinite; }
        @keyframes blink { from, to { background-color: transparent; } 50% { background-color: white; } }

        .lotto-line { display: flex; align-items: center; margin: 10px 0; }
        .line-label { font-weight: 600; min-width: 70px; }
        .ball-container { display: flex; gap: 8px; }

        .lotto-ball {
            width: 32px; height: 32px; border-radius: 50%; display: flex;
            justify-content: center; align-items: center; color: white;
            font-weight: bold; font-size: 0.9rem;
            opacity: 0; transform: translateY(20px);
            transition: opacity 0.5s, transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .lotto-ball.visible { opacity: 1; transform: translateY(0); }
    </style>
</head>
<body>

    <h1>Python Code & Execution Simulator</h1>
    
    <div class="container">
        <div class="panel" id="code-panel">
            <div class="panel-header">
                <h2>🐍 lotto_simulator.py</h2>
                <button id="run-btn">Run ▶</button>
            </div>
            <div class="code-container">
<pre><code class="language-python">
import random
import time

def generate_lotto_numbers():
    """
    1~45 숫자 중 중복 없이 6개를 뽑아
    정렬하여 반환합니다.
    """
    numbers = range(1, 46)
    lotto_numbers = random.sample(numbers, 6)
    lotto_numbers.sort()
    return lotto_numbers

if __name__ == "__main__":
    # 생성할 로또 게임 수
    number_of_games = 5
    
    print("--- Lotto Number Generator ---")
    
    for i in range(number_of_games):
        numbers = generate_lotto_numbers()
        print(f"Set {i + 1}: {numbers}")

    print("Good luck!")
</code></pre>
            </div>
        </div>

        <div class="panel" id="result-panel">
            <div class="panel-header">
                <h2>🖥️ Execution Result</h2>
            </div>
            <div class="terminal">
                <div id="output"></div>
            </div>
        </div>
    </div>

    <script>
        // === JavaScript (시뮬레이션 로직) ===

        const runBtn = document.getElementById('run-btn');
        const outputDiv = document.getElementById('output');

        function getBallColor(number) {
            if (number <= 10) return '#fbc400';
            if (number <= 20) return '#69c8f2';
            if (number <= 30) return '#ff7272';
            if (number <= 40) return '#aaa';
            return '#b0d840';
        }

        // JavaScript로 구현한 Python 로직
        function generateLottoNumbers() {
            const numbers = new Set();
            while (numbers.size < 6) {
                const randomNumber = Math.floor(Math.random() * 45) + 1;
                numbers.add(randomNumber);
            }
            return Array.from(numbers).sort((a, b) => a - b);
        }

        // 타이핑 효과 함수
        function typeText(element, text, callback) {
            let i = 0;
            element.innerHTML = '';
            const typing = setInterval(() => {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                } else {
                    clearInterval(typing);
                    if (callback) callback();
                }
            }, 50); // 타이핑 속도
        }

        function runSimulation() {
            outputDiv.innerHTML = ''; // 이전 결과 초기화
            
            const commandP = document.createElement('p');
            const commandSpan = document.createElement('span');
            commandSpan.className = 'command-line';
            const cursorSpan = document.createElement('span');
            cursorSpan.className = 'cursor';
            
            commandP.appendChild(commandSpan);
            commandP.appendChild(cursorSpan);
            outputDiv.appendChild(commandP);

            // 1. 명령어 타이핑 효과
            typeText(commandSpan, 'python lotto_simulator.py', () => {
                cursorSpan.style.display = 'none'; // 타이핑 끝나면 커서 숨김
                
                // 2. 파이썬 코드의 결과와 유사하게 출력
                const separator = document.createElement('p');
                separator.textContent = '--- Lotto Number Generator ---';
                outputDiv.appendChild(separator);
                
                const numberOfGames = 5;

                for (let i = 0; i < numberOfGames; i++) {
                    setTimeout(() => {
                        const lottoNumbers = generateLottoNumbers();
                        const lineDiv = document.createElement('div');
                        lineDiv.className = 'lotto-line';
                        
                        const label = document.createElement('span');
                        label.className = 'line-label';
                        label.textContent = `Set ${i + 1}:`;
                        lineDiv.appendChild(label);
                        
                        const ballContainer = document.createElement('div');
                        ballContainer.className = 'ball-container';
                        lineDiv.appendChild(ballContainer);
                        
                        outputDiv.appendChild(lineDiv);

                        lottoNumbers.forEach((number, index) => {
                            setTimeout(() => {
                                const ball = document.createElement('span');
                                ball.className = 'lotto-ball';
                                ball.textContent = number;
                                ball.style.backgroundColor = getBallColor(number);
                                ballContainer.appendChild(ball);
                                setTimeout(() => ball.classList.add('visible'), 10);
                            }, index * 80);
                        });
                        
                        // 마지막 줄에 "Good luck!" 출력
                        if(i === numberOfGames - 1) {
                            setTimeout(() => {
                                const luckP = document.createElement('p');
                                luckP.textContent = 'Good luck!';
                                outputDiv.appendChild(luckP);
                            }, lottoNumbers.length * 80 + 100);
                        }
                    }, i * 400);
                }
            });
        }

        runBtn.addEventListener('click', runSimulation);
    </script>
</body>
</html>